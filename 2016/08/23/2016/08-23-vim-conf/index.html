<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Vim 开发环境配置 · Qiyexuxu</title><meta name="description" content="Vim 开发环境配置 - David Wang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.keeplearning.group/atom.xml" title="Qiyexuxu"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/abnerwang" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">Vim 开发环境配置</h1><div class="tags"><a href="/tags/Vim/" class="tag-title">#Vim</a></div><div class="post-info">Aug 23, 2016</div><div class="post-content"><p><img src="http://wx1.sinaimg.cn/mw690/79225320gy1fel5ljqsf9j20lc0gawgn.jpg" alt="Vim编辑器"></p>
<p><strong>注意：本文只对熟悉 Vim 的基本操作想进一步把 Vim 打造成一个较通用的 IDE 的人有帮助，如果对 Vim 的基本操作不熟悉的话，请先看完下文推荐的书或者通过看 Vim 的帮助文档来熟悉 Vim 的基本使用方法。</strong></p>
<p><strong>并且，本文是一个完整的整体，不可以切割成部分来阅读，请务必从头到尾通读一遍，不可以跳过其中的任何一个步骤。</strong></p>
<hr>
<p>什么是 Vim ？维基百科中是这样描述的：</p>
<blockquote>
<p><strong>Vim </strong>是从 vi 发展出来的一个文本编辑器。代码补完、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。和 Emacs 并列成为类 Unix 系统用户最喜欢的编辑器。</p>
</blockquote>
<p>听过 Vim 的估计也听过 Emacs，对于 Emacs 的配置，可以从 <a href="https://github.com/purcell/emacs.d" target="_blank" rel="noopener">这儿</a> 直接 clone 下来用。</p>
<p>学习 Vim 的基本使用技巧，除了查看 Vim 的帮助文档之外，推荐一本书：<a href="https://book.douban.com/subject/25869486/" target="_blank" rel="noopener">《Vim 实用技巧》</a>：</p>
<p><img src="http://wx3.sinaimg.cn/mw690/79225320gy1fel5nix1boj20900bc3yo.jpg" alt="图片 From 豆瓣"></p>
<p>下面直入主题，分别谈谈 Vim 在 Mac 环境下（即 MacVim）的基本配置以及对于不同语言（C、C++、Python、Javascript、HTML、CSS）的配置。</p>
<a id="more"></a>
<h2 id="基本配置"><a href="#基本配置" class="headerlink" title="基本配置"></a>基本配置</h2><hr>
<h3 id="关于主题配色"><a href="#关于主题配色" class="headerlink" title="关于主题配色"></a>关于主题配色</h3><p>我的配色方案使用的是 <a href="https://github.com/altercation/vim-colors-solarized" target="_blank" rel="noopener">Solarized</a>，在终端中分别运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/altercation/vim-colors-solarized.git</span><br><span class="line"><span class="built_in">cd</span> vim-colors-solarized/colors</span><br><span class="line">mv solarized.vim ~/.vim/colors/</span><br></pre></td></tr></table></figure>
<p>然后在你的 .vimrc（一般在主文件夹下，如果没有请新建一个） 文件中分别写入以下设置后保存：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">syntax</span> enable</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">has</span>(<span class="string">'gui_running'</span>)</span><br><span class="line">    <span class="keyword">set</span> background=light</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">    <span class="keyword">set</span> background=dark</span><br><span class="line"><span class="keyword">endif</span></span><br><span class="line"><span class="keyword">colorscheme</span> solarized</span><br></pre></td></tr></table></figure>
<p>其他配色方案也可以用类似的方式将其放在 <code>~/.vim/colors</code> 文件夹后在 .vimrc 中进行相应配置。</p>
<h3 id="其他杂七杂八"><a href="#其他杂七杂八" class="headerlink" title="其他杂七杂八"></a>其他杂七杂八</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="string">"                  显示和杂七杂八                    "</span></span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="comment">" 不显示开始界面的援助 poor children 信息</span></span><br><span class="line"><span class="keyword">set</span> shortmess=atI</span><br><span class="line"><span class="comment">" 不要图形按钮，使用 Vim 就是为了将手指留在键盘上</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">go</span>=</span><br><span class="line"><span class="comment">" 显示行号</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">number</span></span><br><span class="line"><span class="comment">" 语法高亮</span></span><br><span class="line"><span class="keyword">syntax</span> <span class="keyword">on</span></span><br><span class="line"><span class="comment">" 高亮显示查找的内容</span></span><br><span class="line"><span class="keyword">set</span> hls</span><br><span class="line"><span class="comment">" 搜索逐字符高亮</span></span><br><span class="line"><span class="keyword">set</span> incsearch</span><br><span class="line"> </span><br><span class="line"><span class="comment">" 高亮当前行</span></span><br><span class="line"><span class="keyword">set</span> cursorline</span><br><span class="line"><span class="keyword">hi</span> CursorLine cterm=NONE ctermbg=darkred ctermfg=white guibg=darkred guifg=white</span><br><span class="line"> </span><br><span class="line"><span class="comment">" 高亮显示匹配的括号</span></span><br><span class="line"><span class="keyword">set</span> showmatch</span><br><span class="line"><span class="comment">" 在分割的窗口间显示空白以便于阅读</span></span><br><span class="line"><span class="keyword">set</span> fillchars=ver<span class="variable">t:</span>\ ,<span class="keyword">st</span><span class="variable">l:</span>\ ,stlnc:\</span><br><span class="line"><span class="comment">" 设置状态行显示的内容</span></span><br><span class="line"><span class="keyword">set</span> statusline=%F%<span class="keyword">m</span>%r%h%<span class="keyword">w</span>\ [FORMAT=%&#123;&amp;ff&#125;]\ [TYPE=%Y]\ [POS=%<span class="keyword">l</span>,%v][%<span class="keyword">p</span>%%]\ %&#123;<span class="built_in">strftime</span>(\<span class="string">"%d/%m/%y\ -\ %H:%M\"</span>)&#125;</span><br><span class="line"> </span><br><span class="line"><span class="comment">" 在终端状态下的 vim 中插入模式和普通模式改变光标的形状</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_SI = <span class="string">"\&lt;Esc&gt;]50;CursorShape=1\x7"</span></span><br><span class="line"><span class="keyword">let</span> &amp;t_EI = <span class="string">"\&lt;Esc&gt;]50;CursorShape=0\x7"</span></span><br><span class="line"><span class="comment">" 解决终端编辑文件时删除键失效的问题</span></span><br><span class="line"><span class="keyword">set</span> backspace=<span class="number">2</span></span><br><span class="line"><span class="comment">" 改变分割窗口的尺寸</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="keyword">w</span>= :<span class="keyword">resize</span> +<span class="number">3</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="keyword">w</span>- :<span class="keyword">resize</span> -<span class="number">3</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="keyword">w</span>, :<span class="keyword">vertical</span> <span class="keyword">resize</span> -<span class="number">3</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="keyword">w</span>. :<span class="keyword">vertical</span> <span class="keyword">resize</span> +<span class="number">3</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" 自动设当前编辑的文件所在目录为当前工作路径</span></span><br><span class="line"><span class="keyword">set</span> autochdir</span><br><span class="line"><span class="comment">" 查找时忽略大小写</span></span><br><span class="line"><span class="keyword">set</span> ignorecase</span><br><span class="line"><span class="comment">" 记录命令行模式运行的200条命令</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">history</span>=<span class="number">200</span></span><br><span class="line"><span class="comment">" 显示输入的命令</span></span><br><span class="line"><span class="keyword">set</span> showcmd</span><br><span class="line"><span class="comment">" 自定义映射项，回溯历史命令时，结合 &lt;C-p&gt; &lt;C-n&gt; 和 &lt;Up&gt; &lt;Down&gt; 的优点</span></span><br><span class="line"><span class="keyword">cnoremap</span> <span class="symbol">&lt;C-p&gt;</span> <span class="symbol">&lt;Up&gt;</span></span><br><span class="line"><span class="keyword">cnoremap</span> <span class="symbol">&lt;C-n&gt;</span> <span class="symbol">&lt;Down&gt;</span></span><br><span class="line"><span class="comment">" 设置自动保存</span></span><br><span class="line"><span class="keyword">set</span> autowrite</span><br><span class="line"><span class="comment">" 去掉输入错误的提示声音</span></span><br><span class="line"><span class="keyword">set</span> noeb</span><br><span class="line"><span class="comment">"禁止生成临时文件</span></span><br><span class="line"><span class="keyword">set</span> nobackup</span><br><span class="line"><span class="keyword">set</span> noswapfile</span><br><span class="line"><span class="comment">" 打开文件类型检测</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="keyword">on</span></span><br><span class="line"><span class="comment">" 为特定的文件类型允许插件文件的载入</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="keyword">on</span></span><br><span class="line"><span class="comment">" %% 轻松展开当前文件所在的目录</span></span><br><span class="line"><span class="keyword">cnoremap</span> <span class="symbol">&lt;expr&gt;</span> %% <span class="built_in">getcmdtype</span>( ) == <span class="string">':'</span> ? <span class="built_in">expand</span>(<span class="string">'%:h'</span>).<span class="string">'/'</span> : <span class="string">'%%'</span></span><br><span class="line"><span class="comment">" 映射 F3 列出当前目录文件</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;f3&gt;</span> :<span class="keyword">e</span> %%<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="string">"                 与缩进相关的内容                    "</span></span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="comment">" 为特定文件类型载入相关缩进文件</span></span><br><span class="line"><span class="keyword">filetype</span> <span class="built_in">indent</span> <span class="keyword">on</span></span><br><span class="line"><span class="comment">" tab设置成 4 个空格</span></span><br><span class="line"><span class="keyword">set</span> tabstop=<span class="number">4</span></span><br><span class="line"><span class="comment">" 统一缩进为4</span></span><br><span class="line"><span class="keyword">set</span> softtabstop=<span class="number">4</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">shiftwidth</span>=<span class="number">4</span></span><br><span class="line"><span class="comment">" 自动缩进</span></span><br><span class="line"><span class="keyword">set</span> autoindent</span><br><span class="line"><span class="keyword">set</span> <span class="built_in">cindent</span></span><br><span class="line"><span class="comment">" 为C程序提供自动缩进</span></span><br><span class="line"><span class="keyword">set</span> smartindent</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="string">"                  缓冲区和多窗口                    "</span></span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="comment">" 定义遍历缓冲区列表的映射项</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;silent&gt;</span> [<span class="keyword">b</span> :<span class="keyword">bprevious</span><span class="symbol">&lt;CR&gt;</span>    <span class="comment">" 跳转到前一个缓冲区</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;silent&gt;</span> ]<span class="keyword">b</span> :<span class="keyword">bnext</span><span class="symbol">&lt;CR&gt;</span>    <span class="comment">" 跳转到后一个缓冲区</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;silent&gt;</span> [B :<span class="keyword">bfirst</span><span class="symbol">&lt;CR&gt;</span>    <span class="comment">" 跳转到第一个缓冲区</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;silent&gt;</span> ]B :<span class="keyword">blast</span><span class="symbol">&lt;CR&gt;</span>    <span class="comment">" 跳转到最后一个缓冲区</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">" 重新映射在多窗口中进行窗口切换的按键操作</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-h&gt;</span> <span class="symbol">&lt;C-w&gt;</span>h    <span class="comment">" &lt;Ctrl-h&gt; 切换到左侧窗口</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-j&gt;</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">j</span>    <span class="comment">" &lt;Ctrl-j&gt; 切换到下侧窗口</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-k&gt;</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">k</span>    <span class="comment">" &lt;Ctrl-k&gt; 切换到上侧窗口</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-l&gt;</span> <span class="symbol">&lt;C-w&gt;</span><span class="keyword">l</span>    <span class="comment">" &lt;Ctrl-l&gt; 切换到右侧窗口</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">" 按 F1 仅显示当前窗口</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;f1&gt;</span> :<span class="keyword">only</span> <span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="Vim插件管理"><a href="#Vim插件管理" class="headerlink" title="Vim插件管理"></a>Vim插件管理</h2><hr>
<p>对于 Vim 的插件管理，主要有两个：Vundle 和 pathogen，这里推荐使用 <a href="https://github.com/VundleVim/Vundle.vim" target="_blank" rel="noopener">Vundle </a>，如果对 pathogen 感兴趣，可以参照 <a href="https://github.com/tpope/vim-pathogen" target="_blank" rel="noopener">https://github.com/tpope/vim-pathogen</a>。</p>
<p>安装 Vundle 需要你的电脑上装有 <a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a>，Mac 默认装有 Git，所以无需关心这一点，直接在终端中运行以下命令 Vundle 就装好了：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/VundleVim/Vundle.vim.git ~/.vim/bundle/Vundle.vim</span><br></pre></td></tr></table></figure>
<p>对 Vundle 的设置在 <a href="https://github.com/VundleVim/Vundle.vim" target="_blank" rel="noopener">GitHub</a> 上讲的很清楚，不过需要去掉一些你不需要的东西：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="string">"               与Vundle 相关的内容                "</span></span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="comment">" https://github.com/gmarik/Vundle.vim#about 上关于 Vundle 的配置说明</span></span><br><span class="line"><span class="keyword">set</span> nocompatible              <span class="comment">" be iMproved, required</span></span><br><span class="line"><span class="keyword">filetype</span> off                  <span class="comment">" required</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">" set the runtime path to include Vundle and initialize</span></span><br><span class="line"><span class="keyword">set</span> rtp+=~/.<span class="keyword">vim</span>/bundle/Vundle.<span class="keyword">vim</span></span><br><span class="line"><span class="keyword">call</span> vundle#begin()</span><br><span class="line"><span class="comment">" alternatively, pass a path where Vundle should install plugins</span></span><br><span class="line"><span class="comment">"call vundle#begin('~/some/path/here')</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">" let Vundle manage Vundle, required</span></span><br><span class="line">Plugin <span class="string">'gmarik/Vundle.vim'</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">" 我需要的插件，把 Github 上面那些不需要的插件全都去掉</span></span><br><span class="line"><span class="comment">" 安装 YouCompleteMe 插件，来自 https://github.com/Valloric/YouCompleteMe</span></span><br><span class="line">Plugin <span class="string">'Valloric/YouCompleteMe'</span></span><br><span class="line"><span class="comment">" 安装 vim-less 插件，来自 https://github.com/groenewege/vim-less</span></span><br><span class="line">Plugin <span class="string">'groenewege/vim-less'</span></span><br><span class="line"><span class="comment">" 安装 vim-coloresque 插件，来自 https://github.com/gko/vim-coloresque</span></span><br><span class="line">Bundle <span class="string">'https://github.com/gorodinskiy/vim-coloresque.git'</span></span><br><span class="line"><span class="comment">" 安装 vim-css3-syntax 插件，来自 https://github.com/hail2u/vim-css3-syntax</span></span><br><span class="line">Plugin <span class="string">'hail2u/vim-css3-syntax'</span></span><br><span class="line"><span class="comment">" 安装 powerline 插件，来自 https://github.com/Lokaltog/powerline</span></span><br><span class="line">Plugin <span class="string">'Lokaltog/powerline'</span>, &#123;<span class="string">'rtp'</span>: <span class="string">'powerline/bindings/vim/'</span>&#125;</span><br><span class="line"><span class="comment">" 安装 syntastic 插件，来自 https://github.com/scrooloose/syntastic</span></span><br><span class="line">Plugin <span class="string">'scrooloose/syntastic'</span></span><br><span class="line"><span class="comment">" 安装 indentLine 插件，来自 https://github.com/Yggdroot/indentLine</span></span><br><span class="line">Plugin <span class="string">'Yggdroot/indentLine'</span></span><br><span class="line"><span class="comment">" 安装 command-t 插件，来自 https://github.com/wincent/command-t</span></span><br><span class="line">Plugin <span class="string">'wincent/command-t'</span></span><br><span class="line"><span class="comment">" 安装 vim-instant-markdown 插件，来自 https://github.com/suan/vim-instant-markdown</span></span><br><span class="line">Plugin <span class="string">'suan/vim-instant-markdown'</span></span><br><span class="line"><span class="comment">" 安装 Ultisnips 插件，来自 https://github.com/SirVer/ultisnips</span></span><br><span class="line">Plugin <span class="string">'SirVer/ultisnips'</span></span><br><span class="line"><span class="comment">" 添加源代码对齐方式，来自 https://github.com/godlygeek/tabular</span></span><br><span class="line">Plugin <span class="string">'godlygeek/tabular'</span></span><br><span class="line"><span class="comment">" Python 代码折叠插件，来自 https://github.com/tmhedberg/SimpylFold</span></span><br><span class="line">Plugin <span class="string">'tmhedberg/SimpylFold'</span></span><br><span class="line"><span class="comment">" Python 自动缩进插件</span></span><br><span class="line">Plugin <span class="string">'vim-scripts/indentpython.vim'</span></span><br><span class="line"><span class="comment">" emmet 插件，来自 https://github.com/mattn/emmet-vim</span></span><br><span class="line">Plugin <span class="string">'mattn/emmet-vim'</span></span><br><span class="line"><span class="comment">" vim-jsbeautify 插件，来自 https://github.com/maksimr/vim-jsbeautify</span></span><br><span class="line">Plugin <span class="string">'maksimr/vim-jsbeautify'</span></span><br><span class="line"><span class="comment">" vim-autopep8 插件，来自 https://github.com/tell-k/vim-autopep8</span></span><br><span class="line">Plugin <span class="string">'tell-k/vim-autopep8'</span></span><br><span class="line"><span class="comment">" 自动补全符号</span></span><br><span class="line">Bundle <span class="string">'Raimondi/delimitMate'</span>  </span><br><span class="line"> </span><br><span class="line"><span class="comment">" All of your Plugins must be added before the following line</span></span><br><span class="line"><span class="keyword">call</span> vundle#end()            <span class="comment">" required</span></span><br><span class="line"><span class="keyword">filetype</span> plugin <span class="built_in">indent</span> <span class="keyword">on</span>    <span class="comment">" required</span></span><br><span class="line"><span class="comment">" To ignore plugin indent changes, instead use:</span></span><br><span class="line"><span class="comment">"filetype plugin on</span></span><br><span class="line"><span class="comment">"</span></span><br><span class="line"><span class="comment">" Brief help</span></span><br><span class="line"><span class="comment">" :PluginList       - lists configured plugins</span></span><br><span class="line"><span class="comment">" :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate</span></span><br><span class="line"><span class="comment">" :PluginSearch foo - searches for foo; append `!` to refresh local cache</span></span><br><span class="line"><span class="comment">" :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal</span></span><br></pre></td></tr></table></figure>
<p>把以上配置写入 .vimrc 文件之后，打开 Vim，运行命令  <code>:PluginInstall</code> ，回车，安装以上所有插件，待会一一介绍这些插件的用途和配置。</p>
<p><strong>重要说明：安装好以上插件之后，由于这些插件尚未配置好，所以打开 Vim 后可能会出现各种错误、界面丑陋等情况，请忽略掉它们，按照以下教程一步步设置完成后这些错误就会全部消除。</strong></p>
<h3 id="YouCompleteMe-插件"><a href="#YouCompleteMe-插件" class="headerlink" title="YouCompleteMe 插件"></a>YouCompleteMe 插件</h3><p>YouCompleteMe 插件主要用来进行自动补全，它所支持的语言有 C/C++/Objective-C/Objective-C++/Python2/Python3/Java/JavaScript/Go/Ruby 等等等等，详情见 YouCompleteMe 的 <a href="https://github.com/Valloric/YouCompleteMe" target="_blank" rel="noopener">GitHub 主页</a>。下面先谈谈 YouCompleteMe 的基本配置，再分别针对不同语言的进行自动补全配置。</p>
<p>YouCompleteMe 安装完成后打开 MacVim 如果出现 <code>Python quit unexpectedly...</code> 错误怎么办呢？在 Shell 中运行以下命令即可解决：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew unlink python</span><br></pre></td></tr></table></figure>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="string">"                                 YCM 的配置                                 "</span></span><br><span class="line"><span class="string">"       参考 http://blog.csdn.net/sunnianzhong/article/details/18459471      "</span></span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_server_keep_logfiles</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_server_log_level</span> = <span class="string">'debug'</span></span><br><span class="line"><span class="comment">" 补全功能在注释中同样有效</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_complete_in_comments</span>=<span class="number">1</span></span><br><span class="line"><span class="comment">" 允许 vim 加载 .ycm_extra_conf.py 文件，不再提示</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_confirm_extra_conf</span>=<span class="number">0</span></span><br><span class="line"><span class="comment">" 开启 YCM 基于标签引擎</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_collect_identifiers_from_tags_files</span>=<span class="number">1</span></span><br><span class="line"><span class="comment">" YCM 集成 OmniCppComplete 补全引擎，设置其快捷键</span></span><br><span class="line">inoremap &lt;leader&gt;; &lt;C-x&gt;&lt;C-o&gt;</span><br><span class="line"><span class="comment">" 补全内容不以分割子窗口形式出现，只显示补全列表</span></span><br><span class="line"><span class="keyword">set</span> completeopt-=preview</span><br><span class="line"><span class="comment">" 从第一个键入字符就开始罗列匹配项</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_min_num_of_chars_for_completion</span>=<span class="number">1</span></span><br><span class="line"><span class="comment">" 语法关键字补全</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_seed_identifiers_with_syntax</span>=<span class="number">1</span></span><br><span class="line"><span class="comment">" 设置转到定义处的快捷键为ALT + G，这个功能非常赞</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;M-g&gt;</span> :YcmCompleter GoToDefinitionElseDeclaration <span class="symbol">&lt;C-R&gt;</span>=<span class="built_in">expand</span>(<span class="string">"&lt;cword&gt;"</span>)<span class="symbol">&lt;CR&gt;</span><span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" 加载 .ycm_extra_conf.py 文件的路径</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_global_ycm_extra_conf</span> = <span class="string">'~/.vim/bundle/YouCompleteMe/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_autoclose_preview_window_after_completion</span>=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h4 id="c-c-配置"><a href="#c-c-配置" class="headerlink" title="c/c++ 配置"></a>c/c++ 配置</h4><p>首先，请确保你的 Mac 上装有 <a href="https://itunes.apple.com/cn/app/xcode/id497799835?l=en&amp;mt=12" target="_blank" rel="noopener">Xcode</a>，并且确保你的 MacVim 拥有 Python 支持，打开 MacVim，运行命令  <code>:echo has(&#39;python&#39;) || has(&#39;python3&#39;)</code> ，如果输出结果是 1，则拥有 Python 支持，否则，你需要安装相应的 python 支持，具体方法请求教搜索引擎。接着在 shell 中安装 cmake： <code>brew install cmake</code> ，如果还没有安装 homebrew 的话，参见 <a href="http://brew.sh/" target="_blank" rel="noopener">http://brew.sh/</a>。</p>
<p>在 shell 中分别运行以下命令新建工作文件夹：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">mkdir ycm_build</span><br><span class="line">mkdir -p ycm_temp/llvm_root_dir</span><br><span class="line"><span class="built_in">cd</span> ycm_build</span><br></pre></td></tr></table></figure>
<p>然后去 <a href="http://llvm.org/releases/download.html" target="_blank" rel="noopener">LLVM</a> 下载 Mac 的 pre-built 版本，将压缩包里面的文件解压缩到刚才新建的文件夹 <code>ycm_temp/llvm_root_dir</code> 中，即确保 <code>llvm_root_dir</code> 文件夹中含有 <code>bin</code>, <code>lib</code>, <code>include</code> 等文件夹。然后回到 shell 中，在文件夹 <code>ycm_build</code> 中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake -G <span class="string">"Unix Makefiles"</span> -DPATH_TO_LLVM_ROOT=~/ycm_temp/llvm_root_dir . ~/.vim/bundle/YouCompleteMe/third_party/ycmd/cpp</span><br></pre></td></tr></table></figure>
<p>运行结束之后，再接着在文件夹 <code>ycm_build</code> 中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cmake --build . --target ycm_core</span><br></pre></td></tr></table></figure>
<p>运行完毕之后，再接着在 shell 中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">""</span> | g++ -v -x c++ -E -</span><br></pre></td></tr></table></figure>
<p>找到位于 <code>#include search starts here:</code> 和  <code>End of search list.</code> 之间的部分，如图所示，将其复制到剪贴板。</p>
<p><img src="http://wx1.sinaimg.cn/mw690/79225320gy1fel61ub8wdj20sg0b5gqw.jpg" alt=""></p>
<p>打开文件 <code>.vim/bundle/YouCompleteMe/third_party/ycmd/cpp/ycm/.ycm_extra_conf.py</code>，在 <code>flags</code> 列表中粘贴刚才复制到剪贴板中的内容（别忘了加上单引号和逗号）：</p>
<p><img src="http://wx2.sinaimg.cn/mw690/79225320gy1fel637je29j20sg03xdir.jpg" alt=""></p>
<p>这样，通过 YouCompleteMe 就可以实现 C/C++ 自动补全了，现在你不妨停下来测试一下行不行。</p>
<h4 id="python-配置"><a href="#python-配置" class="headerlink" title="python 配置"></a>python 配置</h4><p>python 自动补全依赖于 <a href="https://github.com/davidhalter/jedi" target="_blank" rel="noopener">jedi</a>，所以先要在 shell 中安装 jedi：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install jedi</span><br></pre></td></tr></table></figure>
<p>如果出现 <code>pip: command not found</code>，那么在 shell 中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo easy_install pip</span><br></pre></td></tr></table></figure>
<p>针对 python 3.5，则在 shell 中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo easy_install-3.5 pip</span><br></pre></td></tr></table></figure>
<p>（easy_install-<em>，将 </em> 替换为相应的 python 版本号）</p>
<p>安装完 jedi，YouCompleteMe 就可以对 python 自动补全了。针对 python 3 自动补全的话需要在 .vimrc 中加入以下代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">let</span> g:ycm_python_binary_path=<span class="string">'/Library/Frameworks/Python.framework/Versions/3.5/bin/python3'</span></span><br></pre></td></tr></table></figure>
<p>后面的路径需要替换为自己的路径，在 shell 中用下面的命令获取这个路径：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">which</span> python3</span><br></pre></td></tr></table></figure>
<p>就这么简单就可以自动补全 python 代码了。</p>
<h4 id="JavaScript-配置"><a href="#JavaScript-配置" class="headerlink" title="JavaScript 配置"></a>JavaScript 配置</h4><p>首先去 <a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a> 下载 Mac 版的 node.js 并安装。然后在 shell 中将你的目录切换到 <code>~/.vim/bundle/YouCompleteMe/third_party/ycmd/third_party/tern_runtime</code> 下，运行一下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --production</span><br></pre></td></tr></table></figure>
<p>JavaScript 的补全依赖于 <code>.tern-project</code> 文件，也就是说，在你的 <strong>工作目录中 </strong>或者 <strong>工作目录的上层目录中</strong> 需要有 <code>.tern-project</code> 文件，关于这个文件的详细设置请参阅 <a href="http://ternjs.net/doc/manual.html#configuration" target="_blank" rel="noopener">Tern参考手册</a>。下面是我的 <code>.tern-project</code> 文件配置，可根据需要修改：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;ecmaVersion&quot;: 6,</span><br><span class="line">  &quot;libs&quot;: [</span><br><span class="line">    &quot;browser&quot;,</span><br><span class="line">    &quot;jquery&quot;</span><br><span class="line">  ],</span><br><span class="line">  &quot;plugins&quot;: &#123;</span><br><span class="line">    &quot;complete_strings&quot;: &#123;</span><br><span class="line">      &quot;maxLength&quot;: 15</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;node&quot;: &#123;&#125;,</span><br><span class="line">    &quot;doc_comment&quot;: &#123;</span><br><span class="line">      &quot;fullDocs&quot;: true,</span><br><span class="line">      &quot;strong&quot;: true</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>其实你可以直接将 <code>.tern-project</code> 文件放在你的主文件夹下面，然后在主文件夹下新建新的工作目录。下面测试一下补全效果：</p>
<p><img src="http://wx2.sinaimg.cn/mw690/79225320gy1fel68cgxwdj20sg0lkn54.jpg" alt=""></p>
<p>太棒了！！！</p>
<h4 id="CSS-HTML-配置"><a href="#CSS-HTML-配置" class="headerlink" title="CSS/HTML 配置"></a>CSS/HTML 配置</h4><p>CSS/HTML 的自动补全在 .vimrc 文件中加入以下代码即可：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:ycm_semantic_triggers</span> = &#123;</span><br><span class="line">    \   <span class="string">'css'</span>: [ <span class="string">'re!^\s&#123;4&#125;'</span>, <span class="string">'re!:\s+'</span>],</span><br><span class="line">    \   <span class="string">'html'</span>: [ <span class="string">'&lt;/'</span> ],</span><br><span class="line">    \ &#125;</span><br></pre></td></tr></table></figure>
<h3 id="Powerline-插件"><a href="#Powerline-插件" class="headerlink" title="Powerline 插件"></a>Powerline 插件</h3><p><a href="https://github.com/powerline/powerline" target="_blank" rel="noopener">Powerline</a> 插件是用来美化状态栏的，如下图所示：</p>
<p><img src="http://wx1.sinaimg.cn/mw690/79225320gy1fel6b6dyisj20sg0lmdxs.jpg" alt=""></p>
<p>Powerline 插件需要用到 Powerline 字体，我用的是 Monaco for Powerline 字体，到 <a href="https://gist.github.com/baopham/1838072" target="_blank" rel="noopener">https://gist.github.com/baopham/1838072</a> 把这个字体下载下来之后安装好即可。这里顺带说一下中文字体最好用微软雅黑，到 <a href="http://www.ifunmac.com/2014/08/yahei/" target="_blank" rel="noopener">http://www.ifunmac.com/2014/08/yahei/</a> 下载安装好即可。这两个字体安装完成后，在 .vimrc 文件中增加以下设置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> guifont=Monaco\ <span class="keyword">for</span>\ Powerline:h14</span><br><span class="line"><span class="keyword">set</span> gfw=Microsoft\ YaHei:h13   <span class="comment">" 中文字体</span></span><br><span class="line"><span class="keyword">let</span> Powerline_symbols = <span class="string">'fancy'</span></span><br><span class="line"><span class="keyword">set</span> laststatus=<span class="number">2</span>    <span class="comment">" The statusline is hidden/only appears in split windows!</span></span><br></pre></td></tr></table></figure>
<p>保存设置后重启 MacVim，就可以看到上面红色方框所示的状态栏。</p>
<h3 id="Syntastic-插件"><a href="#Syntastic-插件" class="headerlink" title="Syntastic 插件"></a>Syntastic 插件</h3><p>Syntastic 插件是 Vim 的一个语法错误检查插件，详情见它的 <a href="https://github.com/scrooloose/syntastic" target="_blank" rel="noopener">GitHub 主页</a>。它让你可以在编译或者运行代码之前看到语法错误。它所支持的语言包括：C/C++/Java/JavaScript/Python/Objective-C/C#/HTML/CSS/TeX 等等，它自身并不会进行语法检查，所以需要与对应语言的语法检查器配合才能进行语法检查，而针对一种语言进行语法检查的检查器有很多种，详情见 <a href="https://github.com/scrooloose/syntastic/blob/master/doc/syntastic-checkers.txt" target="_blank" rel="noopener">https://github.com/scrooloose/syntastic/blob/master/doc/syntastic-checkers.txt</a>。下面先谈谈 Syntastic 插件的基本配置，再分别谈谈我个人针对 C/C++/JavaScript/Python/HTML/CSS 所采用的语法检查器及其配置。</p>
<h4 id="Syntastic-的基本配置"><a href="#Syntastic-的基本配置" class="headerlink" title="Syntastic 的基本配置"></a>Syntastic 的基本配置</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> statusline+=%#warningmsg#</span><br><span class="line"><span class="keyword">set</span> statusline+=%&#123;SyntasticStatuslineFlag()&#125;</span><br><span class="line"><span class="keyword">set</span> statusline+=%*</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_always_populate_loc_list</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_auto_loc_list</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_check_on_open</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_check_on_wq</span> = <span class="number">0</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_check_on_open</span> = <span class="number">1</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">" 设置错误和警告的标记</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_error_symbol</span> = <span class="string">'✗'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_warning_symbol</span> = <span class="string">'⚠'</span></span><br><span class="line"><span class="comment">"whether to show balloons</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_enable_balloons</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>将以上配置写入 .vimrc 文件中，重启 MacVim。</p>
<h4 id="C-语言配置"><a href="#C-语言配置" class="headerlink" title="C 语言配置"></a>C 语言配置</h4><p>针对 C 语言所采用的语法检查器为 GCC，装好 Xcode 之后 Mac 默认装有 GCC，所以直接使用即可，下面是我的配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" C Checker</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_c_compiler</span> = <span class="string">'gcc'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_c_errorformat</span> = <span class="string">'%f:%l:%c: %trror: %m'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_c_remove_include_errors</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_c_compiler_options</span> = <span class="string">'-ansi'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_c_auto_refresh_includes</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_c_check_header</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>将以上配置写入 .vimrc 文件中，重启 MacVim，在写代码的过程中有没有错误提示呢？试试就知道了：</p>
<p><img src="http://wx2.sinaimg.cn/mw690/79225320gy1fel6fa6s2rj20sg0lm7cu.jpg" alt=""></p>
<p>不错，真的太棒了，不但有错误提示，而且当你把光标放在错误行的时候，底部的状态栏还有错误信息出现：提示你这行末尾少了一个分号。</p>
<h4 id="C-语言配置-1"><a href="#C-语言配置-1" class="headerlink" title="C++ 语言配置"></a>C++ 语言配置</h4><p>仍然用 GCC 做语法检查器，下面是具体的配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" C++ Checker</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_cpp_compiler</span> = <span class="string">'g++'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_cpp_errorformat</span> = <span class="string">'%f:%l:%c: %trror: %m'</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_cpp_remove_include_errors</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_cpp_compiler_options</span> = <span class="string">'-std=c++11 -stdlib=libc++'</span>   <span class="comment">" C++11 支持</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_cpp_auto_refresh_includes</span> = <span class="number">1</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_cpp_check_header</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>将以上配置写入 .vimrc 文件中，重启 MacVim 即可看到效果。</p>
<h4 id="JavaScript-语言配置"><a href="#JavaScript-语言配置" class="headerlink" title="JavaScript 语言配置"></a>JavaScript 语言配置</h4><p>用 <a href="https://github.com/eslint/eslint" target="_blank" rel="noopener">ESLint</a> 作为语法检查器，安装 ESLint 需要首先安装 <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a>，前文已经安装完成，如果没有安装的请首先安装 Node.js，安装完成后，打开终端分别输入以下几条命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g eslint</span><br><span class="line">sudo npm install -g babel-eslint</span><br><span class="line">sudo npm install -g eslint-plugin-react</span><br></pre></td></tr></table></figure>
<p>然后在你的工作目录创建 .eslintrc 文件，不过最好还是在主文件夹下创建该文件（即 <code>~/.eslintrc</code>），将以下配置写入 .eslintrc 文件中：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;parser&quot;: &quot;babel-eslint&quot;,</span><br><span class="line">    &quot;env&quot;: &#123;</span><br><span class="line">        &quot;browser&quot;: true,</span><br><span class="line">        &quot;node&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;settings&quot;: &#123;</span><br><span class="line">        &quot;ecmascript&quot;: 6,</span><br><span class="line">        &quot;jsx&quot;: true</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;plugins&quot;: [</span><br><span class="line">        &quot;react&quot;</span><br><span class="line">    ],</span><br><span class="line">    &quot;rules&quot;: &#123;</span><br><span class="line">        &quot;strict&quot;: 0,</span><br><span class="line">        &quot;quotes&quot;: 0,</span><br><span class="line">        &quot;no-unused-vars&quot;: 0,</span><br><span class="line">        &quot;camelcase&quot;: 0,</span><br><span class="line">        &quot;no-underscore-dangle&quot;: 0</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>再接着将以下配置写入 .vimrc 中：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_javascript_checkers</span> = [<span class="string">'eslint'</span>]</span><br></pre></td></tr></table></figure>
<p>重启 MacVim，就可以语法检查了。</p>
<h4 id="Python-语言配置"><a href="#Python-语言配置" class="headerlink" title="Python 语言配置"></a>Python 语言配置</h4><p>用 flake8 作为语法检查器，需要安装 flake8，首先需要安装 pip。前文已经安装了 pip，如若没有安装，请参照前文。安装完成后，在终端中运行以下命令安装 flake8:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install flake8</span><br></pre></td></tr></table></figure>
<p>flake8 可以让你的代码符合 PEP8 风格。接着在 .vimrc 文件中加入以下配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" Python checker</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_python_checkers</span> = [<span class="string">'flake8'</span>]</span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_python_flake8_args</span> = <span class="string">'--ignore=E501,E225'</span></span><br></pre></td></tr></table></figure>
<p>这样就可以进行 Python 语法检查了，最后一行的配置忽略了一些警告或错误（<code>E501、E225</code>是警告或错误对应的代码），如果你想严格遵守标准，不选择忽略的话，也可以把最后一行删掉。</p>
<p>重启 MacVim 生效。</p>
<h4 id="HTML-语言配置"><a href="#HTML-语言配置" class="headerlink" title="HTML 语言配置"></a>HTML 语言配置</h4><p>HTML 的语法检查使用的是 <a href="http://www.html-tidy.org/" target="_blank" rel="noopener">HTML tidy</a>，在终端中输入以下命令安装 HTML tidy：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install tidy-html5</span><br></pre></td></tr></table></figure>
<p>针对 HTML5，在 .vimrc 中加入以下配置后重启 MacVim：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:syntastic_html_tidy_exec</span> = <span class="string">'path/to/html-tidy'</span>  <span class="comment">" path/to/html-tidy换成你的路径</span></span><br></pre></td></tr></table></figure>
<h4 id="CSS-语言配置"><a href="#CSS-语言配置" class="headerlink" title="CSS 语言配置"></a>CSS 语言配置</h4><p>CSS 的语法检查使用的是 <a href="http://csslint.net/" target="_blank" rel="noopener">CSSLint</a>，安装 CSSLint 同样需要首先安装 <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a> ，如前所示。在终端中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm install -g csslint</span><br></pre></td></tr></table></figure>
<p>安装完成之后，CSS 语法检查即设置完成。</p>
<p>对于 CSS，还推荐安装的三个插件分别是：<a href="https://github.com/groenewege/vim-less" target="_blank" rel="noopener">vim-less</a>、<a href="https://github.com/gko/vim-coloresque" target="_blank" rel="noopener">vim-coloresque</a>、 <a href="https://github.com/hail2u/vim-css3-syntax" target="_blank" rel="noopener">vim-css3-syntax</a>，它们分别是干嘛的在其 GitHub 主页上都有说明。</p>
<h3 id="indentLine-插件"><a href="#indentLine-插件" class="headerlink" title="indentLine 插件"></a>indentLine 插件</h3><p>这个插件用来干嘛的呢？用一张图说话吧！</p>
<p><img src="http://wx2.sinaimg.cn/mw690/79225320gy1fel4qejk5sj20sg0ibwnv.jpg" alt=""></p>
<p>没错，就是用来显示缩进级别的。我对这款插件的设置很简单，在 .vimrc 中就加入如下一行代码即可：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> <span class="variable">g:indentLine_char</span> = <span class="string">'┊'</span></span><br></pre></td></tr></table></figure>
<p>如果需要插件使用 Patched font 产生上图所示的那种缩进符号效果（毕竟以上语句所设置的缩进符号看起来太丑），请继续阅读我另一篇针对此插件的补充内容：<a href="http://blog.qiyexuxu.com/2016/08/28/2016-08-28-vim-indentline/" target="_blank" rel="noopener">Vim 中 indentLine 插件修改对齐字符</a>。</p>
<h3 id="Command-T-插件"><a href="#Command-T-插件" class="headerlink" title="Command-T 插件"></a>Command-T 插件</h3><p>这款插件的作用 <a href="https://github.com/wincent/command-t" target="_blank" rel="noopener">官方</a> 是这么说的：</p>
<blockquote>
<p>Command-T is a Vim plug-in that provides an extremely fast “fuzzy” mechanism for:</p>
<p>Opening files and buffers</p>
<p>Jumping to tags and help</p>
<p>Running commands, or previous searches and commands</p>
<p>with a minimal number of keystrokes.</p>
</blockquote>
<p>这个插件通过 Vundle 安装好之后，需要在 shell 中运行一下三行命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.vim/bundle/<span class="built_in">command</span>-t/ruby/<span class="built_in">command</span>-t</span><br><span class="line">ruby extconf.rb</span><br><span class="line">make</span><br></pre></td></tr></table></figure>
<p>为这个插件设置一个快捷键，写入 .vimrc 中：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" 设置调出 command-t 的快捷键为 ctrl+w 加 ctrl+f</span></span><br><span class="line"><span class="keyword">nmap</span> <span class="symbol">&lt;C-w&gt;</span><span class="symbol">&lt;C-f&gt;</span> :CommandT<span class="symbol">&lt;CR&gt;</span></span><br></pre></td></tr></table></figure>
<p>重启 MacVim 后，效果如图：</p>
<p><img src="http://wx1.sinaimg.cn/mw690/79225320gy1fel6ska890j20sg0lk4hd.jpg" alt=""></p>
<h3 id="vim-instant-markdown-插件"><a href="#vim-instant-markdown-插件" class="headerlink" title="vim-instant-markdown 插件"></a>vim-instant-markdown 插件</h3><p>请参考这个插件的 <a href="https://github.com/suan/vim-instant-markdown" target="_blank" rel="noopener">GitHub主页</a>。这个是装着玩的，好用的 Markdown 编辑器那么多，个人感觉用 <a href="https://atom.io/" target="_blank" rel="noopener">Atom</a> 写 Markdown 是最好的，而且 Atom 安装插件之后也支持 vim 模式，插件极其丰富。并且，个人以为 Atom 做前后端比 Vim 爽，比 Sublime Text 也好，有兴趣的可以折腾折腾。</p>
<h3 id="SimpylFold-插件"><a href="#SimpylFold-插件" class="headerlink" title="SimpylFold 插件"></a>SimpylFold 插件</h3><p>这个是 Python 折叠插件，由于 Python 是按照缩进来区分代码段的，所以 Python 的代码折叠逻辑也就显得尤为重要。</p>
<p>下面是与 Python 的代码折叠相关的一些配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" 激活代码折叠，快捷键 za</span></span><br><span class="line"><span class="keyword">set</span> foldmethod=<span class="built_in">indent</span></span><br><span class="line"><span class="keyword">set</span> <span class="built_in">foldlevel</span>=<span class="number">99</span></span><br><span class="line"><span class="comment">" 希望看到 python 折叠代码的文档字符串</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:SimpylFold_docstring_preview</span>=<span class="number">1</span></span><br><span class="line"><span class="comment">" In order for SimpylFold to be properly loaded in certain cases</span></span><br><span class="line"><span class="keyword">autocmd</span> BufWinEnter *.<span class="keyword">py</span> <span class="keyword">setlocal</span> foldexpr=SimpylFold(<span class="variable">v:lnum</span>) foldmethod=expr</span><br><span class="line"><span class="keyword">autocmd</span> BufWinLeave *.<span class="keyword">py</span> <span class="keyword">setlocal</span> foldexpr&lt; foldmethod&lt;</span><br></pre></td></tr></table></figure>
<p>写入 .vimrc 中，重启 MacVim 后就会发现敲击快捷键 za 就能对 Python 函数进行折叠了。</p>
<h4 id="关于-Python-的一些其他设置"><a href="#关于-Python-的一些其他设置" class="headerlink" title="关于 Python 的一些其他设置"></a>关于 Python 的一些其他设置</h4><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" 进行 Python 开发时使用 utf－8 编码</span></span><br><span class="line"><span class="keyword">set</span> encoding=utf-<span class="number">8</span></span><br><span class="line"><span class="comment">" 让代码更漂亮</span></span><br><span class="line"><span class="keyword">let</span> python_highlight_all = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>将以上内容一道写入  .vimrc 中。</p>
<h3 id="Emmet-插件"><a href="#Emmet-插件" class="headerlink" title="Emmet 插件"></a>Emmet 插件</h3><p>做前端的人都知道这是个什么东西，这里就不多说了，教程参见 <a href="http://docs.emmet.io/cheat-sheet/" target="_blank" rel="noopener">http://docs.emmet.io/cheat-sheet/</a>。</p>
<h3 id="vim-jsbeautify-插件"><a href="#vim-jsbeautify-插件" class="headerlink" title="vim-jsbeautify 插件"></a>vim-jsbeautify 插件</h3><p>这个插件可以用来一键格式化你的 JavaScript/HTML/CSS 代码，要求先装有 <a href="https://nodejs.org/zh-cn/" target="_blank" rel="noopener">Node.js</a>，再安装 <a href="https://github.com/beautify-web/js-beautify" target="_blank" rel="noopener">js-beautify</a>，按前文先安装 Node.js，再在终端中输入以下命令安装 js-beautify：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo npm -g install js-beautify</span><br></pre></td></tr></table></figure>
<p>然后在 .vimrc 中写入以下配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" vim-jsbeautify 配置，按 ctrl-f 一键格式化你的代码</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType javascript <span class="keyword">noremap</span> <span class="symbol">&lt;buffer&gt;</span>  <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> JsBeautify()<span class="symbol">&lt;cr&gt;</span>   <span class="comment">" for javascript</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType json <span class="keyword">noremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> JsonBeautify()<span class="symbol">&lt;cr&gt;</span>    <span class="comment">" for json</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType jsx <span class="keyword">noremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> JsxBeautify()<span class="symbol">&lt;cr&gt;</span>     <span class="comment">" for jsx</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType html <span class="keyword">noremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> HtmlBeautify()<span class="symbol">&lt;cr&gt;</span>   <span class="comment">" for html</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType css <span class="keyword">noremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> CSSBeautify()<span class="symbol">&lt;cr&gt;</span>    <span class="comment">" for css or scss</span></span><br><span class="line"><span class="comment">" 一键格式化选中范围的代码</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType javascript <span class="keyword">vnoremap</span> <span class="symbol">&lt;buffer&gt;</span>  <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> RangeJsBeautify()<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType json <span class="keyword">vnoremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> RangeJsonBeautify()<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType jsx <span class="keyword">vnoremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> RangeJsxBeautify()<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType html <span class="keyword">vnoremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> RangeHtmlBeautify()<span class="symbol">&lt;cr&gt;</span></span><br><span class="line"><span class="keyword">autocmd</span> FileType css <span class="keyword">vnoremap</span> <span class="symbol">&lt;buffer&gt;</span> <span class="symbol">&lt;c-f&gt;</span> :<span class="keyword">call</span> RangeCSSBeautify()<span class="symbol">&lt;cr&gt;</span></span><br></pre></td></tr></table></figure>
<p>重启 MacVim，按组合键 ctrl-f 就可以使用这个插件了。</p>
<h3 id="vim-autopep8-插件"><a href="#vim-autopep8-插件" class="headerlink" title="vim-autopep8 插件"></a>vim-autopep8 插件</h3><p>这个插件用来格式化你的 Python 代码，使之符合 PEP8 标准。在安装这个插件之前，首先需要安装 pep8，在终端中输入以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade autopep8</span><br></pre></td></tr></table></figure>
<p>安装好 autopep8 之后，这个插件就可以使用了。在 MacVim 中打开一个 Python 文件，按 F8 就可以一键格式化你的 Python 代码。建议在每次写完你的 Python 程序后都首先按一下 F8 键进行代码格式化。</p>
<p>如果不需要显示格式化前后差异的话，请在 .vimrc 中加入以下配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" vim autopep8 不显示格式化前后的差异的窗口</span></span><br><span class="line"><span class="keyword">let</span> <span class="variable">g:autopep8_disable_show_diff</span>=<span class="number">1</span></span><br></pre></td></tr></table></figure>
<h3 id="NERD-Tree-插件"><a href="#NERD-Tree-插件" class="headerlink" title="NERD Tree 插件"></a>NERD Tree 插件</h3><p>NERD Tree 插件是干嘛的呢？就是我的 MacVim 截图中的目录树结构：</p>
<p><img src="http://wx2.sinaimg.cn/mw690/79225320gy1fel7qyytgmj20sg0lmn6r.jpg" alt=""></p>
<p>安装这个插件，首先需要安装 <a href="https://github.com/tpope/vim-pathogen" target="_blank" rel="noopener">pathogen.vim</a>，在终端中运行以下命令进行安装：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/.vim/<span class="built_in">autoload</span> ~/.vim/bundle &amp;&amp; \</span><br><span class="line">curl -LSso ~/.vim/<span class="built_in">autoload</span>/pathogen.vim https://tpo.pe/pathogen.vim</span><br></pre></td></tr></table></figure>
<p>安装完成之后，再在终端中运行以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/.vim/bundle</span><br><span class="line">git <span class="built_in">clone</span> https://github.com/scrooloose/nerdtree.git</span><br></pre></td></tr></table></figure>
<p>NERD Tree 即安装完成，下面是我在 .vimrc 中针对该插件的配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" 此插件会自动配置 'path' 选项</span></span><br><span class="line"><span class="keyword">execute</span> pathogen#infect(<span class="string">'bundle'</span>)</span><br><span class="line"><span class="comment">" Vim 打开时自动启动目录树并将光标移动到主窗口</span></span><br><span class="line"><span class="keyword">autocmd</span> VimEnter * NERDTree</span><br><span class="line"><span class="keyword">autocmd</span> VimEnter * <span class="keyword">wincmd</span> <span class="keyword">p</span></span><br><span class="line"><span class="comment">" 映射 ctrl-n 打开/隐藏目录树结构</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;C-n&gt;</span> :NERDTreeToggle<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"><span class="comment">" 当除了目录树之外的所有窗口都被关闭时关闭 Vim</span></span><br><span class="line"><span class="keyword">autocmd</span> bufenter * <span class="keyword">if</span> (<span class="built_in">winnr</span>(<span class="string">"$"</span>) == <span class="number">1</span> &amp;&amp; <span class="built_in">exists</span>(<span class="string">"b:NERDTreeType"</span>) &amp;&amp; <span class="variable">b:NERDTreeType</span> == <span class="string">"primary"</span>) | q | <span class="keyword">endif</span></span><br></pre></td></tr></table></figure>
<p>重启 MacVim 就可以看到效果了。</p>
<h3 id="Conque-Shell-插件"><a href="#Conque-Shell-插件" class="headerlink" title="Conque Shell 插件"></a>Conque Shell 插件</h3><p>这个插件可以让你在 MacVim 中运行 shell，见下图：</p>
<p><img src="http://wx4.sinaimg.cn/mw690/79225320gy1feld5urulsj20sg0lmwop.jpg" alt=""></p>
<p>首先到 <a href="http://www.vim.org/scripts/script.php?script_id=2771" target="_blank" rel="noopener">这儿</a> 下载最新版本的 conque，将其解压缩后，将得到如下四个文件夹：</p>
<p><img src="http://wx1.sinaimg.cn/mw690/79225320gy1feld75xe9nj20sg0hxgqj.jpg" alt=""></p>
<p>将这四个文件夹中的所有文件均移动至 <code>~/.vim</code> 文件下的对应文件夹下面（<strong>如果没有对应的文件夹请新建</strong>），即安装完成，安装完成后，在 MacVim 中运行 <code>:ConqueTermSplit bash</code> 即可得到以上截图所示的界面。</p>
<h2 id="关于-ctags"><a href="#关于-ctags" class="headerlink" title="关于 ctags"></a>关于 ctags</h2><hr>
<p>ctags 可以为你的项目生成函数索引，当你需要查看某个函数的源代码时只需要在 <a href="http://www.vim.org/scripts/script.php?script_id=273" target="_blank" rel="noopener">taglist</a> 窗口中选择该函数并回车即可，如图所示：</p>
<p><img src="http://wx2.sinaimg.cn/mw690/79225320gy1feld05cj6gj20sg0lmarn.jpg" alt=""></p>
<p>首先在终端中用以下命令安装 ctags：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install ctags</span><br></pre></td></tr></table></figure>
<p>ctags 安装完成后需要安装 taglist 插件，去 <a href="http://www.vim.org/scripts/script.php?script_id=273" target="_blank" rel="noopener">这儿</a> 下载最新版本的 taglist 插件，解压缩后，打开解压缩后的文件，将 <code>plugin</code> 文件夹下的 <code>taglist.vim</code> 移动至 <code>~/.vim/plugin</code> 文件夹下，将 <code>doc</code> 文件夹下的 <code>taglist.txt</code> 移动至 <code>~/.vim/doc</code> 文件夹下。这样，taglist 插件安装完成，下面在 .vimrc 文件中写入配置：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">" 设置 ctags 命令的位置</span></span><br><span class="line"><span class="keyword">let</span> Tlist_Ctags_Cmd = <span class="string">'/usr/local/bin/ctags'</span></span><br><span class="line"><span class="comment">" 映射 F5 键手动执行 ctags 为当前目录及其所有子目录下的每一个文件建立索引</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;f5&gt;</span> :!ctags -R<span class="symbol">&lt;CR&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">" 与 taglist 相关的配置</span></span><br><span class="line"><span class="keyword">let</span> Tlist_Show_One_File = <span class="number">1</span>     <span class="comment">" 只显示当前文件的 taglist</span></span><br><span class="line"><span class="keyword">let</span> Tlist_Exit_OnlyWindow = <span class="number">1</span>    <span class="comment">" 如果 taglist 是最后一个窗口，则退出 Vim</span></span><br><span class="line"><span class="keyword">let</span> Tlist_Use_Right_Window = <span class="number">1</span>    <span class="comment">" 在右侧窗口中显示 taglist</span></span><br><span class="line"><span class="keyword">let</span> Tlist_GainFocus_On_ToggleOpen = <span class="number">1</span>        <span class="comment">" 打开 taglist 时，光标保留在 taglist 窗口</span></span><br><span class="line"><span class="keyword">nnoremap</span> <span class="symbol">&lt;f7&gt;</span> :Tlist<span class="symbol">&lt;CR&gt;</span>        <span class="comment">" 设置 F7 关闭和打开taglist窗口的快捷键</span></span><br><span class="line"><span class="keyword">let</span> Tlist_Auto_Open = <span class="number">1</span>   <span class="comment">" Vim 打开后自动打开 taglist 窗口</span></span><br></pre></td></tr></table></figure>
<p>上面 ctags 命令的位置请替换成你自己的。重启 MacVim 即可工作。</p>
<h2 id="一键编译／调试／运行"><a href="#一键编译／调试／运行" class="headerlink" title="一键编译／调试／运行"></a>一键编译／调试／运行</h2><hr>
<p>针对 C/C++/Java/Python 一键编译/调试/运行相关的内容，写入 .vimrc 配置文件中：</p>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="string">"                      C/C++/python 编译、调试相关的内容                  "</span></span><br><span class="line"><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span><span class="string">""</span></span><br><span class="line"><span class="comment">" C，C++ Java 按 F9 编译</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;f9&gt;</span> :<span class="keyword">call</span> CompileGcc()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line">func! CompileGcc()</span><br><span class="line">    exec <span class="string">"w"</span></span><br><span class="line">    <span class="keyword">if</span> &amp;<span class="keyword">filetype</span> == <span class="string">'c'</span></span><br><span class="line">        exec <span class="string">"!gcc -g -Wall % -o %&lt;"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'python'</span></span><br><span class="line">        exec <span class="string">"!python3 %"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'cpp'</span></span><br><span class="line">        exec <span class="string">"!g++ -g -Wall % -o %&lt;"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'java'</span></span><br><span class="line">        exec <span class="string">"!javac %"</span></span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">endfunc</span><br><span class="line"><span class="comment">" C，C++ Java shell脚本 Python 运行按 F10</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;f10&gt;</span> :<span class="keyword">call</span> CompileRunGcc()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line">func! CompileRunGcc()</span><br><span class="line">    exec <span class="string">"w"</span></span><br><span class="line">    <span class="keyword">if</span> &amp;<span class="keyword">filetype</span> == <span class="string">'c'</span></span><br><span class="line">        exec <span class="string">"!gcc -g -Wall % -o %&lt;"</span></span><br><span class="line">        exec <span class="string">"!time ./%&lt;"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'python'</span></span><br><span class="line">        exec <span class="string">"!python3 %"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'cpp'</span></span><br><span class="line">        exec <span class="string">"!g++ -g -Wall % -o %&lt;"</span></span><br><span class="line">        exec <span class="string">"!time ./%&lt;"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'java'</span></span><br><span class="line">        exec <span class="string">"!javac %"</span></span><br><span class="line">        exec <span class="string">"!time java %&lt;"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'sh'</span></span><br><span class="line">        :!time bash %</span><br><span class="line">    <span class="keyword">endif</span></span><br><span class="line">endfunc</span><br><span class="line"><span class="comment">" 映射 F6 用 gdb 调试 C,C++ 程序</span></span><br><span class="line"><span class="keyword">map</span> <span class="symbol">&lt;f6&gt;</span> :<span class="keyword">call</span> Rungdb()<span class="symbol">&lt;CR&gt;</span></span><br><span class="line">func! Rungdb()</span><br><span class="line">    exec <span class="string">"w"</span></span><br><span class="line">    <span class="keyword">if</span> &amp;<span class="keyword">filetype</span> == <span class="string">'c'</span></span><br><span class="line">		exec <span class="string">"!gcc -g -Wall % -o %&lt;"</span></span><br><span class="line">		exec <span class="string">"!gdb ./%&lt;"</span></span><br><span class="line">    <span class="keyword">elseif</span> &amp;<span class="keyword">filetype</span> == <span class="string">'cpp'</span></span><br><span class="line">		exec <span class="string">"!g++ -g -Wall % -o %&lt;"</span></span><br><span class="line">		exec <span class="string">"!gdb ./%&lt;"</span></span><br><span class="line">	<span class="keyword">endif</span></span><br><span class="line">endfunc</span><br></pre></td></tr></table></figure>
<p>gdb 调试需要安装 gdb，在终端中输入以下命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install gdb</span><br></pre></td></tr></table></figure>
<hr>
<p>好了，这篇文章到此结束，Vim 水很深，上面所介绍的还仅仅只是 Vim 千奇百怪的用法之中的一小部分，对于 Java 和其他语言设置的内容还没有介绍，Java 的自动补全请参照 <a href="http://eclim.org/" target="_blank" rel="noopener">Eclim</a>，后续随着学习的深入会陆续补充本文的内容。</p>
</div></article></div></main><footer><div class="paginator"><a href="/2016/08/23/2016/04-25-algorithms-if-prime-number/" class="prev">上一篇</a><a href="/2016/08/06/2016/08-06-wechat-family-env/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'abnerwang';
var disqus_identifier = '2016/08/23/2016/08-23-vim-conf/';
var disqus_title = 'Vim 开发环境配置';
var disqus_url = 'http://blog.keeplearning.group/2016/08/23/2016/08-23-vim-conf/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//abnerwang.disqus.com/count.js" async></script><div class="copyright"><p>© 2014 - 2019 <a href="http://blog.keeplearning.group">David Wang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"], linebreaks: { automatic:true }, EqnChunk: (MathJax.Hub.Browser.isMobile ? 10 : 50) },
tex2jax: { inlineMath: [ ["$", "$"], ["\\\(","\\)"] ], processEscapes: true, ignoreClass: "tex2jax_ignore|dno",skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']},
TeX: { noUndefined: { attributes: { mathcolor: "red", mathbackground: "#FFEEEE", mathsize: "90%" } }, Macros: { href: "{}" } },
messageStyle: "none"
});
</script></body></html>