<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> A program to print Fahrenheit-Celsius table with floating-point values · Qiyexuxu</title><meta name="description" content="A program to print Fahrenheit-Celsius table with floating-point values - David Wang"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.keeplearning.group/atom.xml" title="Qiyexuxu"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/logo.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/abnerwang" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">A program to print Fahrenheit-Celsius table with floating-point values</h1><div class="tags"><a href="/tags/C语言/" class="tag-title">#C语言</a></div><div class="post-info">Mar 16, 2015</div><div class="post-content"><p>This program is presented as below.</p>
<a id="more"></a>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="comment">/* print Fahrenheit_Celsius table</span></span><br><span class="line"><span class="comment">    for fahr = 0, 20, ..., 300; floating-point version */</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">float</span> fahr, celsius;</span><br><span class="line">    <span class="keyword">int</span> lower, upper, step;</span><br><span class="line"> </span><br><span class="line">    lower = <span class="number">0</span>;      <span class="comment">/* lower limit of temperature table */</span></span><br><span class="line">    upper = <span class="number">300</span>;     <span class="comment">/* upper limit of temperature table */</span></span><br><span class="line">    step = <span class="number">20</span>;       <span class="comment">/* step size */</span></span><br><span class="line"> </span><br><span class="line">    fahr = lower;</span><br><span class="line">    <span class="keyword">while</span> (fahr &lt;= upper)  &#123;</span><br><span class="line">        celsius = (<span class="number">5.0</span>/<span class="number">9.0</span>) * (fahr<span class="number">-32.0</span>);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%3.0f %6.1fn"</span>, fahr, celsius);</span><br><span class="line">        fahr = fahr + step;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="http://ww3.sinaimg.cn/mw690/79225320jw1eq7oe562kwj21le0z87bf.jpg" alt=""></p>
<p>The figure of this program is presented as above. The right part of the figure is the output. This is much like the program which is mentioned at the beginning of the article, except that <code>fahr</code> and<code>celsius</code> are declared to be float. We were unable to use 5/9 in the previous version because integer division would truncate it to zero.<strong>A decimal point in a constant indicates that it is floating point, however, so 5.0/9.0 is not truncated because it is the ratio of two floating-point values.</strong></p>
<p>If an arithmetic operator has integer operands, an integer operation is performed. <strong>If an arithmetic operator has one floating-point operand and one integer operand, however, the integer will be converted to floating point before the operation is done.</strong>Writing floating-point constants with explicit decimal points even when they have integral values emphasizes their floating-point nature for human readers.</p>
<p>For now, notice that the assignment</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fahr = lower;</span><br></pre></td></tr></table></figure>
<p>and the test</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (fahr &lt;= upper)</span><br></pre></td></tr></table></figure>
<p>also work in the nature way — the int is converted to float before the operation is done.</p>
<p>The implications of width and precision are tabled as follows.</p>
<ul>
<li><code>%d</code>            print as decimal integer</li>
<li><code>%6d</code>          print as decimal integer, at least 6 characters wide</li>
<li><code>%f</code>             print as foating point</li>
<li><code>%6f</code>           print as floating point, at least 6 characters wide</li>
<li><code>%.2f</code>          print as floating point, 2 characters after decimal point</li>
<li><code>%6.2f</code>        print as floating point, at leat 6 wide and 2 characters after decimal point</li>
</ul>
<p>Among others, <code>printf</code> also recognizes <code>%o</code> for octal, <code>%x</code> for hexadecimal, <code>%c</code> for character, <code>%s</code>for charater string, and <code>%%</code> for <code>%</code>itself.</p>
<hr>
<p>Reference</p>
<p><a href="http://book.douban.com/subject/1236999/" target="_blank" rel="noopener">The C Programming Language</a></p>
</div></article></div></main><footer><div class="paginator"><a href="/2015/03/16/2015/03-16-c-why-celsius/" class="prev">上一篇</a><a href="/2014/08/29/2014/08-29-vim-notes2/" class="next">下一篇</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'abnerwang';
var disqus_identifier = '2015/03/16/2015/03-16-c-Fahrenheit-Celsius/';
var disqus_title = 'A program to print Fahrenheit-Celsius table with floating-point values';
var disqus_url = 'http://blog.keeplearning.group/2015/03/16/2015/03-16-c-Fahrenheit-Celsius/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//abnerwang.disqus.com/count.js" async></script><div class="copyright"><p>© 2014 - 2018 <a href="http://blog.keeplearning.group">David Wang</a>, powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/pinggod/hexo-theme-apollo" target="_blank">hexo-theme-apollo</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>